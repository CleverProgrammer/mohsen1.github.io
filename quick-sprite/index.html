<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Quick Sprite: A Tool For Creating CSS Sprite Images In Browser - Mohsen Azimi</title>
  <meta name="author" content="Mohsen Azimi">

  
  <meta name="description" content="Today I am releasing my sprite generator tool that is generating CSS sprite image and it&#8217;s CSS code inside the browser. Check it out here About &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mohsen1.github.io/quick-sprite">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mohsen Azimi" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400|Lato:100,400' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-27375889-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Mohsen Azimi</a></h1>
  
    <h2>JavaScript and mobile web</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mohsen1.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Quick Sprite: A Tool for Creating CSS Sprite Images in Browser</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-14T00:00:00-07:00" pubdate data-updated="true">Oct 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content">Today I am releasing my sprite generator tool that is generating CSS sprite image and it&#8217;s CSS code inside the browser. Check it out <a href="http://mohsenweb.com/experiments/quicksprite/">here</a>
<p>
<iframe width="560" height="315" src="http://www.youtube.com/embed/HksPlDzJ_cE" frameborder="0" allowfullscreen></iframe>
</p>
<h1>About Sprite Images</h1>
CSS sprites help reducing down number of HTTP requests for small images and icons used in a website. The idea of using a sprite image is to use one single image that includes  many small images sitting next to each other in the sprite image. Then we show any individual image sing positioning and cropping techniques in our favorite software. In the web we use CSS top position and crop sprite image in order to show an individual image. We set background image of an element to our sprite image and then set the width, height and position of background to make our desired icon/image visible and rest of sprite image invisible.
<h1>Making Sprite Using An Automated Process</h1>
Usually web developers use Photoshop to make a sprite image. While using Photoshop do the job it&#8217;s slow, expensive and not very scalable. Imagine if you want to make a sprite image from 100 small icons. The other problem with high quantity of images is that developers have to calculate position of each individual icon and then set it in their CSS code.
Using an automated process for generating sprite image and also CSS code necessary for that sprite image sounded like a good idea to me so I decided to make the tool for it.
<h1>Making sprite image inside the browser</h1>
There are some sprite generators that generate sprite images as a web service. None of ones I&#8217;ve found generating CSS code for the sprite image and all of them using server side image rendering technology that requires you to upload your images to server  and download the result after server is done with processing.
<h1> Quick Sprite</h1>
I made my own sprite builder using HTML5 technologies. This sprite builder doesn&#8217;t rely on server side image processing and works all in front end. It also generate CSS code developer may need for it&#8217;s sprite. All background-position properties are calculated and there is no need for eyeballing pixels in Photoshop to find out exact position of an icon! It generates width and height and even background-image property for each image. CSS classes are guessed based on each image file name. User can select between camel case and dash separated class names.
Using Quick Sprite is very easy, you just drag your images in the app and it generates sprite image and CSS code in a second! You can drag out the result image our download it using the provided download link.
<h1>Technology Stack</h1>
I&#8217;ve used Backbone.js to organize my views and collection. While it wan&#8217;t necessary to use Backbone but it helped me to rapidly develop this app.
To generate sprite image I used a<code> &lt;canvas&gt;</code> element to draw images on it and take out result from canvas. I&#8217;ve used <code>drag and drop API</code>, <code>File Blob</code>, anchor tag <code>download</code> attribute and all good stuff from HTML5.
<h1>Browser support</h1>
It works perfect in Chrome and Safari but CSS code didn&#8217;t show up in when I tried it out in Firefox. I didn&#8217;t try it in IE or Opera.
<h1>What is next?</h1>
CSS code is machine generated and will not be your perfect code to put in production so you may want to edit it. My plan is to use Code Mirror for syntax highlighting and code editing in CSS code block.
Making sprite of big images could be slow and app freezes while processing images. It&#8217;s because images processing happens in sam thread as DOM (no surprise here!). Solution to this is using <code>Web Workers</code> but problem is I lose DOM in workers. I&#8217;m using DOM (canvas) to process images. Right now I am investigating on re-implementing <code>CanvasRenderingContext2D.prototype.drawImage</code> and <code>CanvasRenderingContext2D.prototype.getImageData</code> in a web worker. If I could do that then I can transfer each image binary data individually to worker and let worker combine those into a big <code>ImageData</code> object and transfer it back to original window. This might not be as easy as it looks but is not impossible.
Right now the app render images below each other in a very tall and thin sprite (width of sprite is based on widest image). Maybe people want to stack their images in sprite horizontally or like a grid .Actually PNG file size will not change if we stack images differently (say like a grid) but having smaller numbers for <code>background-position</code> is a plus.
<h1>The App</h1>
<p><a href="http://mohsenweb.com/experiments/quicksprite/">Here is the app</a></p>
<a href="http://mohsenweb.com/experiments/quicksprite/"><img style="width: 100%; height: auto;" src="http://i.imgur.com/aZlg4.png" alt="" /></a>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Mohsen Azimi</span></span>

      








  


<time datetime="2012-10-14T00:00:00-07:00" pubdate data-updated="true">Oct 14<span>th</span>, 2012</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://mohsen1.github.io/quick-sprite/" data-via="mohsen____" data-counturl="http://mohsen1.github.io/quick-sprite/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/underscore-js-deep-pluck-mixin/" title="Previous Post: Underscore.js Deep Pluck Mixin">&laquo; Underscore.js Deep Pluck Mixin</a>
      
      
        <a class="basic-alignment right" href="/how-did-i-use-node-js-to-remotely-control-my-google-tv/" title="Next Post: How did I use Node.js to remotely control my Google TV">How did I use Node.js to remotely control my Google TV &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/string-direction-in-javascript/">String Direction in JavaScript</a>
      </li>
    
      <li class="post">
        <a href="/my-js1k-submission/">My JS1K Submission</a>
      </li>
    
      <li class="post">
        <a href="/how-did-i-use-node-js-to-remotely-control-my-google-tv/">How Did I Use Node.js to Remotely Control My Google TV</a>
      </li>
    
      <li class="post">
        <a href="/quick-sprite/">Quick Sprite: A Tool for Creating CSS Sprite Images in Browser</a>
      </li>
    
      <li class="post">
        <a href="/underscore-js-deep-pluck-mixin/">Underscore.js Deep Pluck Mixin</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/mohsen1">@mohsen1</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mohsen1',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/114475617075588558046?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer class="main-footer" role="contentinfo">
    <ul class="contact-links">
      <li><a href="/blog">Weblog</a></li>
      <li>|</li>
      <li><a href="mailto:mohsen@mohsenweb.com">Email Me</a></li>
      <li>|</li>
      <li><a href="https://github.com/mohsen1">Github</a></li>
      <li>|</li>
      <li><a href="http://twitter.com/mohsen____">Twitter</a></li>
      <li>|</li>
      <li><a href="http://geekli.st/mohsen">Geek List</a></li>
      <li>|</li>
      <li><a href="http://stackoverflow.com/users/650722/mohsen">Stack Overflow</a></li>
      <li>|</li>
      <li><a href="http://www.linkedin.com/in/msnazi">LinkedIn</a></li>
    </ul>
    <p class="copyright"><p>
  Copyright &copy; 2013 - Mohsen Azimi -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>


    

<script type="text/javascript">
      var disqus_shortname = 'mohsen1';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mohsen1.github.io/quick-sprite/';
        var disqus_url = 'http://mohsen1.github.io/quick-sprite/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





    </p>
  </footer>
</body>
</html>
